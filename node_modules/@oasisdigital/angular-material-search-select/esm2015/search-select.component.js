import * as tslib_1 from "tslib";
var SearchSelectComponent_1;
import { Component, Input, ViewEncapsulation, ChangeDetectionStrategy, forwardRef } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
import { SearchSelectBase } from './base';
// The CSS approach below is the documented solution:
// https://github.com/angular/material2/issues/3810
// https://github.com/angular/material2/pull/7176
// To set the width, style the first class something like this:
// width: 400px;
// max-width: 400px !important;
// ... need to figure out how to set the number programmaticlly.
let SearchSelectComponent = SearchSelectComponent_1 = class SearchSelectComponent extends SearchSelectBase {
    // The CSS approach below is the documented solution:
    // https://github.com/angular/material2/issues/3810
    // https://github.com/angular/material2/pull/7176
    // To set the width, style the first class something like this:
    // width: 400px;
    // max-width: 400px !important;
    // ... need to figure out how to set the number programmaticlly.
    constructor() {
        super(...arguments);
        this.debounceTime = 100;
        this.width = '';
        this.emptyText = '';
        this.autoActiveFirstOption = false;
    }
};
tslib_1.__decorate([
    Input(),
    tslib_1.__metadata("design:type", String)
], SearchSelectComponent.prototype, "placeholder", void 0);
tslib_1.__decorate([
    Input(),
    tslib_1.__metadata("design:type", Object)
], SearchSelectComponent.prototype, "debounceTime", void 0);
tslib_1.__decorate([
    Input(),
    tslib_1.__metadata("design:type", Object)
], SearchSelectComponent.prototype, "width", void 0);
tslib_1.__decorate([
    Input(),
    tslib_1.__metadata("design:type", Object)
], SearchSelectComponent.prototype, "emptyText", void 0);
tslib_1.__decorate([
    Input(),
    tslib_1.__metadata("design:type", Object)
], SearchSelectComponent.prototype, "autoActiveFirstOption", void 0);
SearchSelectComponent = SearchSelectComponent_1 = tslib_1.__decorate([
    Component({
        selector: 'search-select',
        template: "<mat-form-field class=\"obs-mat-container\" [style.width]=\"width\">\n  <mat-spinner class=\"obs-mat-spinner\"\n    *ngIf=\"loading | async\"\n    [diameter]=\"20\"\n    [strokeWidth]=\"5\"></mat-spinner>\n  <i class=\"obs-no-matches\" *ngIf=\"emptyText && empty | async\">{{emptyText}}</i>\n  <input\n      type=\"text\"\n      [placeholder]=\"placeholder\"\n      [attr.aria-label]=\"placeholder\"\n      spellcheck=\"false\"\n      matInput\n      [formControl]=\"searchControl\"\n      #input\n      (blur)=\"blur()\"\n      (focus)=\"input.select(); focus()\"\n      [matAutocomplete]=\"auto\">\n  <mat-autocomplete #auto=\"matAutocomplete\" [displayWith]=\"displayWith\"\n    [autoActiveFirstOption]=\"autoActiveFirstOption\"\n   class=\"bigger-mat-ac\">\n    <mat-option *ngFor=\"let option of list | async\"\n      [value]=\"option\">\n      {{ option.display }}\n    </mat-option>\n  </mat-autocomplete>\n  <b>{{ errorMessage | async }}</b>\n</mat-form-field>\n",
        providers: [
            {
                provide: NG_VALUE_ACCESSOR,
                useExisting: forwardRef(() => SearchSelectComponent_1),
                multi: true
            }
        ],
        encapsulation: ViewEncapsulation.None,
        changeDetection: ChangeDetectionStrategy.OnPush,
        styles: [".bigger-mat-ac.mat-autocomplete-panel{max-height:500px!important}.obs-mat-container{position:relative}.obs-mat-container mat-spinner.obs-mat-spinner{position:absolute;right:5px}.obs-no-matches{position:absolute;color:silver;right:5px}.ng-invalid.ng-touched>.obs-mat-container,.ng-invalid.ng-touched>.obs-mat-container label{color:#f44336!important}"]
    })
], SearchSelectComponent);
export { SearchSelectComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VhcmNoLXNlbGVjdC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ab2FzaXNkaWdpdGFsL2FuZ3VsYXItbWF0ZXJpYWwtc2VhcmNoLXNlbGVjdC8iLCJzb3VyY2VzIjpbInNlYXJjaC1zZWxlY3QuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsaUJBQWlCLEVBQUUsdUJBQXVCLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3pHLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRW5ELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUUxQyxxREFBcUQ7QUFDckQsbURBQW1EO0FBQ25ELGlEQUFpRDtBQUVqRCwrREFBK0Q7QUFDL0QsZ0JBQWdCO0FBQ2hCLCtCQUErQjtBQUMvQixnRUFBZ0U7QUFnQmhFLElBQWEscUJBQXFCLDZCQUFsQyxNQUFhLHFCQUFzQixTQUFRLGdCQUFnQjtJQXZCM0QscURBQXFEO0lBQ3JELG1EQUFtRDtJQUNuRCxpREFBaUQ7SUFFakQsK0RBQStEO0lBQy9ELGdCQUFnQjtJQUNoQiwrQkFBK0I7SUFDL0IsZ0VBQWdFO0lBRWhFOztRQWdCVyxpQkFBWSxHQUFHLEdBQUcsQ0FBQztRQUNuQixVQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ1gsY0FBUyxHQUFHLEVBQUUsQ0FBQztRQUNmLDBCQUFxQixHQUFHLEtBQUssQ0FBQztJQUN6QyxDQUFDO0NBQUEsQ0FBQTtBQUxVO0lBQVIsS0FBSyxFQUFFOzswREFBcUI7QUFDcEI7SUFBUixLQUFLLEVBQUU7OzJEQUFvQjtBQUNuQjtJQUFSLEtBQUssRUFBRTs7b0RBQVk7QUFDWDtJQUFSLEtBQUssRUFBRTs7d0RBQWdCO0FBQ2Y7SUFBUixLQUFLLEVBQUU7O29FQUErQjtBQUw1QixxQkFBcUI7SUFkakMsU0FBUyxDQUFDO1FBQ1QsUUFBUSxFQUFFLGVBQWU7UUFDekIsczlCQUE2QztRQUU3QyxTQUFTLEVBQUU7WUFDVDtnQkFDRSxPQUFPLEVBQUUsaUJBQWlCO2dCQUMxQixXQUFXLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLHVCQUFxQixDQUFDO2dCQUNwRCxLQUFLLEVBQUUsSUFBSTthQUNaO1NBQ0Y7UUFDRCxhQUFhLEVBQUUsaUJBQWlCLENBQUMsSUFBSTtRQUNyQyxlQUFlLEVBQUUsdUJBQXVCLENBQUMsTUFBTTs7S0FDaEQsQ0FBQztHQUNXLHFCQUFxQixDQU1qQztTQU5ZLHFCQUFxQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIFZpZXdFbmNhcHN1bGF0aW9uLCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgZm9yd2FyZFJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTkdfVkFMVUVfQUNDRVNTT1IgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cbmltcG9ydCB7IFNlYXJjaFNlbGVjdEJhc2UgfSBmcm9tICcuL2Jhc2UnO1xuXG4vLyBUaGUgQ1NTIGFwcHJvYWNoIGJlbG93IGlzIHRoZSBkb2N1bWVudGVkIHNvbHV0aW9uOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWwyL2lzc3Vlcy8zODEwXG4vLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbDIvcHVsbC83MTc2XG5cbi8vIFRvIHNldCB0aGUgd2lkdGgsIHN0eWxlIHRoZSBmaXJzdCBjbGFzcyBzb21ldGhpbmcgbGlrZSB0aGlzOlxuLy8gd2lkdGg6IDQwMHB4O1xuLy8gbWF4LXdpZHRoOiA0MDBweCAhaW1wb3J0YW50O1xuLy8gLi4uIG5lZWQgdG8gZmlndXJlIG91dCBob3cgdG8gc2V0IHRoZSBudW1iZXIgcHJvZ3JhbW1hdGljbGx5LlxuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdzZWFyY2gtc2VsZWN0JyxcbiAgdGVtcGxhdGVVcmw6ICcuL3NlYXJjaC1zZWxlY3QuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9zZWFyY2gtc2VsZWN0LmNvbXBvbmVudC5jc3MnXSxcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBTZWFyY2hTZWxlY3RDb21wb25lbnQpLFxuICAgICAgbXVsdGk6IHRydWVcbiAgICB9XG4gIF0sXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG59KVxuZXhwb3J0IGNsYXNzIFNlYXJjaFNlbGVjdENvbXBvbmVudCBleHRlbmRzIFNlYXJjaFNlbGVjdEJhc2Uge1xuICBASW5wdXQoKSBwbGFjZWhvbGRlcjogc3RyaW5nO1xuICBASW5wdXQoKSBkZWJvdW5jZVRpbWUgPSAxMDA7XG4gIEBJbnB1dCgpIHdpZHRoID0gJyc7XG4gIEBJbnB1dCgpIGVtcHR5VGV4dCA9ICcnO1xuICBASW5wdXQoKSBhdXRvQWN0aXZlRmlyc3RPcHRpb24gPSBmYWxzZTtcbn1cbiJdfQ==